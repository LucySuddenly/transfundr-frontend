(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(181)},118:function(e,t,a){},119:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),i=(a(118),a(17)),c=a(101),s=a(4),m=a(5),u=a(6),p=a(3),h=a(7),d=(a(119),a(111)),f=a(16),g=a(42),b=a(32),E=a(14),v=a(12),y=a(13),j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{src:"https://i.imgur.com/xChPL20.png",width:"50",alt:"venmo",className:"inline"}),r.a.createElement("h5",{className:"inline"},this.props.username))}}]),t}(n.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{src:"https://i.imgur.com/pRwMvht.jpg",width:"50",alt:"paypal",className:"inline"}),r.a.createElement("h5",{className:"inline"},this.props.username))}}]),t}(n.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{src:"https://i.imgur.com/zLXBOb9.png",width:"50",alt:"cashapp",className:"inline"}),r.a.createElement("h5",{className:"inline"},this.props.username))}}]),t}(n.Component),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{src:"https://i.imgur.com/HVFI24E.png",width:"50",alt:"zelle",className:"inline"}),r.a.createElement("h5",{className:"inline"},this.props.username))}}]),t}(n.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,""!==this.props.profile.venmo?r.a.createElement(j,{username:this.props.profile.venmo}):null,""!==this.props.profile.paypal?r.a.createElement(O,{username:this.props.profile.paypal}):null,""!==this.props.profile.cash?r.a.createElement(w,{username:this.props.profile.cash}):null,""!==this.props.profile.zelle?r.a.createElement(N,{username:this.props.profile.zelle}):null)}}]),t}(n.Component),S=a(60),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline align-middle"},r.a.createElement("div",{className:"imagecroppersm"},r.a.createElement("img",{src:this.props.profile.profile_img,className:"smprofilepicture profile_img",alt:"profile"})))}}]),t}(n.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline align-middle"},r.a.createElement("a",{className:"username",href:"/users/".concat(this.props.user.id)},r.a.createElement("h3",null,this.props.user.username)))}}]),t}(n.Component),T=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e));var n=1;return e.user.nonwhite&&(n+=1),a.state={multiplier:n},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=1;e.user.nonwhite&&(t+=1),this.setState({multiplier:t})}},{key:"render",value:function(){return r.a.createElement("h3",{id:"multiplier"},this.state.multiplier,"X Points")}}]),t}(n.Component),_=a(22),F=a.n(_),I=a(184),J=a(185),P=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{className:"socialicon",width:"50",alt:"facebook",src:"../../images/Facebook.png"}))}}]),t}(n.Component),L=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"inline"},r.a.createElement("img",{className:"socialicon",width:"50",alt:"reddit",src:"../../images/Reddit.png"}))}}]),t}(n.Component),A=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"standaloneform"},this.props.beacon.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{profile:this.props.beacon.user.profile}),r.a.createElement(x,{user:this.props.beacon.user}),r.a.createElement(T,{user:this.props.beacon.user})):null,r.a.createElement("h6",null,"Sent up: ",r.a.createElement(F.a,{date:this.props.beacon.created_at})),r.a.createElement("a",{href:"/beacons/".concat(this.props.beacon.id)},r.a.createElement("h2",{className:"title"},this.props.beacon.title)),r.a.createElement("h5",{className:"text"},this.props.beacon.text),r.a.createElement("h4",null,"Raised: $",this.props.total),r.a.createElement("h4",null,"Target: $",this.props.beacon.target),r.a.createElement(S.a,{animated:!0,variant:"success",now:this.props.total/this.props.beacon.target*100}),this.props.beacon.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(C,{profile:this.props.beacon.user.profile})):null,r.a.createElement("br",null),r.a.createElement("h4",{className:"inline"},"Share: "),r.a.createElement(I.a,{className:"inline",children:r.a.createElement(P,null),url:"www.transfundr.com/beacons/".concat(this.props.beacon.id),quote:"Please consider donating",hashtag:"#transfundr"}),r.a.createElement(J.a,{className:"inline",children:r.a.createElement(L,null),url:"www.transfundr.com/beacons/".concat(this.props.beacon.id),title:"Please consider donating"}),localStorage.getItem("user")?r.a.createElement(E.a,{className:"donatebutton",href:"/beacons/".concat(this.props.beacon.id,"/newdonation")},"Donate"):null)}}]),t}(n.Component),B=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"beaconcontainer"},this.props.payload.map(function(e){return r.a.createElement(A,{key:e.beacon.id,total:e.total,beacon:e.beacon})}))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).getHomeBeacons=function(){fetch("https://transfundr-backend.herokuapp.com/home").then(function(e){return e.json()}).then(function(t){return e.setState({payload:t})})},e.getNearlyThereBeacons=function(){fetch("https://transfundr-backend.herokuapp.com/nearlythere").then(function(e){return e.json()}).then(function(t){return e.setState({payload:t})})},e.getNeedsHelpBeacons=function(){fetch("https://transfundr-backend.herokuapp.com/needshelp").then(function(e){return e.json()}).then(function(t){return e.setState({payload:t})})},e.getHomeBeacons(),e.state={payload:[{beacon:{id:null,user:{profile:{venmo:null}}}}]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"sidenav"},r.a.createElement("h3",null,"Sort:"),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement(E.a,{onClick:this.getHomeBeacons},"New"),r.a.createElement(E.a,{onClick:this.getNearlyThereBeacons},"Nearly There"),r.a.createElement(E.a,{onClick:this.getNeedsHelpBeacons},"Needs Help"),r.a.createElement("div",{className:"divider"}),r.a.createElement(E.a,{className:"rankings",href:"/rankings"},"Rankings"))),r.a.createElement("div",{className:"content"},r.a.createElement(B,{payload:this.state.payload})))}}]),t}(n.Component),z=a(25),R=(a(50),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onCheckChange=function(t){var a;a=t.target.name,e.setState(Object(i.a)({},a,!e.state.checkName))},e.onTextFormChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.showTransOptions=function(){var e;e=document.getElementsByClassName("transoptions");for(var t=0;t<e.length;t++)e[t].className.includes("hidden")?e[t].classList.remove("hidden"):e[t].classList.add("hidden")},e.submitForm=function(t){t.preventDefault(),e.state.profile_image_file_name&&e.state.cover_image_file_name?fetch("https://transfundr-backend.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then(function(e){return e.json()}).then(function(t){t.error?z.a.notify(t.error,{duration:3e3}):(e.props.logUserIn(t),e.props.history.push("users/".concat(t.user.id)))}):z.a.notify("Cover Image and Profile Picture are required",{duration:3e3})},e.profileImageOnChange=function(t){e.setState({profile_image_file_name:t.target.files[0].name});var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(){e.setState({profile_image_file:a.result})}},e.coverImageOnChange=function(t){e.setState({cover_image_file_name:t.target.files[0].name});var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(){e.setState({cover_image_file:a.result})}},e.state={username:"",email:"",password:"",trans:!1,nonwhite:!1,bio:"",venmo:"",cash:"",paypal:"",zelle:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement(v.a,{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(v.a.Check,{name:"trans",value:"trans",label:"Are you a trans woman or femme-leaning AMAB non-binary person?",onChange:function(t){return e.onCheckChange(t)},onClick:this.showTransOptions}),r.a.createElement("div",{className:"transoptions hidden"},r.a.createElement(v.a.Check,{name:"nonwhite",value:"nonwhite",label:"Are you non-white?",onChange:function(t){return e.onCheckChange(t)}})),r.a.createElement("br",null),r.a.createElement(v.a.Label,null,"Username"),r.a.createElement(y.a,{value:this.state.username,onChange:function(t){e.onTextFormChange(t)},name:"username",type:"text",placeholder:"Enter Username"}),r.a.createElement(v.a.Label,null,"Email address"),r.a.createElement(y.a,{value:this.state.email,onChange:function(t){e.onTextFormChange(t)},name:"email",type:"text",placeholder:"Enter Email"}),r.a.createElement(v.a.Text,{className:"text-muted"},"We'll never share your email with anyone else."),r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(y.a,{value:this.state.password,onChange:function(t){e.onTextFormChange(t)},name:"password",type:"password",placeholder:"Password"}),r.a.createElement(v.a.Label,null,"Bio"),r.a.createElement(y.a,{value:this.state.bio,onChange:function(t){e.onTextFormChange(t)},name:"bio",as:"textarea",type:"text",placeholder:"Fill out your bio",rows:4}),r.a.createElement(v.a.Label,null,"Profile Picture"),r.a.createElement(y.a,{onChange:function(t){return e.profileImageOnChange(t)},type:"file",name:"profile_image",id:"profile_image_upload",accept:"image/*"}),r.a.createElement(v.a.Label,null,"Cover Image"),r.a.createElement(y.a,{onChange:function(t){return e.coverImageOnChange(t)},type:"file",name:"cover_image",id:"cover_image_upload",accept:"image/*"}),r.a.createElement("span",{className:"transoptions hidden"},r.a.createElement(v.a.Label,null,"Venmo"),r.a.createElement(y.a,{value:this.state.venmo,onChange:function(t){e.onTextFormChange(t)},name:"venmo",type:"text",placeholder:"Enter your Venmo username"}),r.a.createElement(v.a.Label,null,"Cash App"),r.a.createElement(y.a,{value:this.state.cash,onChange:function(t){e.onTextFormChange(t)},name:"cash",type:"text",placeholder:"Enter your Cash App username"}),r.a.createElement(v.a.Label,null,"Paypal"),r.a.createElement(y.a,{value:this.state.paypal,onChange:function(t){e.onTextFormChange(t)},name:"paypal",type:"text",placeholder:"Enter your Paypal username"}),r.a.createElement(v.a.Label,null,"Zelle"),r.a.createElement(y.a,{value:this.state.zelle,onChange:function(t){e.onTextFormChange(t)},name:"zelle",type:"text",placeholder:"Enter your Zelle username"})),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Sign Up"))))}}]),t}(n.Component)),U=Object(f.f)(R),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onTextFormChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.submitForm=function(e){e.preventDefault(),fetch("https://transfundr-backend.herokuapp.com/donations",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify({user_id:JSON.parse(localStorage.getItem("user")).id,beacon_id:a.state.beacon.id,amount:a.state.amount,points:a.state.amount*parseInt(document.getElementById("multiplier").innerText[0]),confirmed:!1})}).then(function(e){return e.json()}).then(function(e){e.message?z.a.notify(e.message,{duration:3e3}):a.props.history.push("/donations/".concat(e.id))})},fetch("https://transfundr-backend.herokuapp.com/beacons/".concat(a.props.match.params.id)).then(function(e){return e.json()}).then(function(e){return a.setState({beacon:e.beacon})}),a.state={amount:0,beacon:{title:null,text:null,target:null,user:{nonwhite:null,femme:null,username:null,profile:{cash:null,venmo:null,paypal:null,zelle:null,profile_img:null}}}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement("h3",null,"Beacon: ",this.state.beacon.title),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline"},"Sender: "),r.a.createElement(k,{profile:JSON.parse(localStorage.getItem("user")).profile}),r.a.createElement(x,{user:JSON.parse(localStorage.getItem("user"))}),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline"},"Receiver:")," ",r.a.createElement(k,{profile:this.state.beacon.user.profile}),r.a.createElement(x,{user:this.state.beacon.user}),r.a.createElement(T,{user:this.state.beacon.user}),r.a.createElement(v.a,{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(v.a.Label,null,"Donation Amount"),r.a.createElement(y.a,{value:this.state.amount,onChange:function(t){e.onTextFormChange(t)},name:"amount",type:"number",placeholder:"Donation Amount"}),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Donate"))))}}]),t}(n.Component),$=Object(f.f)(W),H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.props.user.profile.cover_img,id:"cover_img",alt:"cover"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"profile"},r.a.createElement("div",null,r.a.createElement("div",{className:"inline align-middle"},r.a.createElement("div",{className:"imagecropper"},r.a.createElement("img",{src:this.props.user.profile.profile_img,className:"profile_img",alt:"profile"}))),r.a.createElement("div",{className:"divider"}),r.a.createElement("h1",{class:"inline align-middle"},this.props.user.username),r.a.createElement("div",{className:"inline align-middle flag"},r.a.createElement("div",{className:"imagecropper"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Transgender_Pride_flag.svg/2560px-Transgender_Pride_flag.svg.png",alt:"trans flag"})))),r.a.createElement("div",{class:"bio"},r.a.createElement("div",{className:"inline"},localStorage.getItem("jwt")&&this.props.decodeJwt(localStorage.getItem("jwt"))===this.props.user.id?r.a.createElement(E.a,{href:"/editprofile"},"Edit Profile"):null,r.a.createElement("h5",{className:"text"},"Bio: ",this.props.user.profile.bio),r.a.createElement("h3",null,"Points: ",this.props.points),r.a.createElement("h6",null,"Joined: ",r.a.createElement(F.a,{date:this.props.user.created_at}))),r.a.createElement(C,{profile:this.props.user.profile}))),r.a.createElement(B,{payload:this.props.beacons})))}}]),t}(n.Component),M=Object(f.f)(H),V=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{src:"https://i.imgur.com/nLVaJGN.png",className:"confirmedstamp",alt:"confirmed stamp"}))}}]),t}(n.Component),Y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"pendingstamp"},r.a.createElement("h1",null,"PENDING"))}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).confirmDonation=function(t){fetch("https://transfundr-backend.herokuapp.com/confirm",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify("".concat(e.props.donation.id))}).then(function(e){return e.json()}).then(function(t){return e.setState({donation:t})})},e.state={donation:{confirmed:null}},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"donation"},r.a.createElement("a",{href:"/donations/".concat(this.props.donation.id)}," ",r.a.createElement("h2",null,"Donation")),this.props.beacon?r.a.createElement("h3",null,this.props.beacon.title):null,this.props.donation.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Sender"),r.a.createElement(k,{profile:this.props.donation.user.profile}),r.a.createElement(x,{user:this.props.donation.user})):null,this.props.beacon?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Receiver"),r.a.createElement(k,{profile:this.props.beacon.user.profile}),r.a.createElement(x,{user:this.props.beacon.user})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",null,"Receiver"),r.a.createElement(k,{profile:this.props.donation.beacon.user.profile}),r.a.createElement(x,{user:this.props.donation.beacon.user})),r.a.createElement("h2",null,"$",this.props.donation.amount," - ",this.props.donation.points," Points"),r.a.createElement("h6",null,"Sent: ",r.a.createElement(F.a,{date:this.props.donation.created_at})),this.props.donation.confirmed?r.a.createElement(V,null):r.a.createElement(Y,null))}}]),t}(n.Component),G=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.donations.map(function(t){return r.a.createElement(Z,{key:t.id,decodeJwt:e.props.decodeJwt,beacon:e.props.beacon,donation:t})}))}}]),t}(n.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:this.props.user.profile.cover_img,id:"cover_img",alt:"cover"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"profile"},r.a.createElement("div",null,r.a.createElement("div",{className:"inline align-middle"},r.a.createElement("div",{className:"imagecropper"},r.a.createElement("img",{src:this.props.user.profile.profile_img,className:"profile_img",alt:"profile"}))),r.a.createElement("div",{className:"divider"}),r.a.createElement("h1",{class:"inline align-middle"},this.props.user.username),r.a.createElement("div",{className:"inline align-middle flag"},r.a.createElement("div",{className:"imagecropper"},r.a.createElement("img",{className:"profile_img",src:"../../images/Ally.png",alt:"ally flag"})))),r.a.createElement("div",{class:"bio"},r.a.createElement("div",{className:"inline"},localStorage.getItem("jwt")&&this.props.decodeJwt(localStorage.getItem("jwt"))===this.props.user.id?r.a.createElement(E.a,{href:"/editprofile"},"Edit Profile"):null,r.a.createElement("h5",{className:"text"},"Bio: ",this.props.user.profile.bio),r.a.createElement("h3",null,"Points: ",this.props.points),r.a.createElement("h6",null,"Joined: ",r.a.createElement(F.a,{date:this.props.user.created_at}))))),r.a.createElement(G,{decodeJwt:this.props.decodeJwt,donations:this.props.user.donations})))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),fetch("https://transfundr-backend.herokuapp.com/users/".concat(a.props.match.params.id)).then(function(e){return e.json()}).then(function(e){a.setState({user:e.user,beacons:e.beacons,points:e.points})}),a.state={user:{trans:null,profile:{venmo:null,paypal:null,cash:null,zelle:null},donations:[]},beacons:[],points:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.user.trans?r.a.createElement(M,{decodeJwt:this.props.decodeJwt,points:this.state.points,beacons:this.state.beacons,user:this.state.user}):r.a.createElement(q,{decodeJwt:this.props.decodeJwt,points:this.state.points,user:this.state.user}))}}]),t}(n.Component),K=Object(f.f)(X),Q=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onTextFormChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.submitForm=function(t){t.preventDefault(),fetch("https://transfundr-backend.herokuapp.com/beacons",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify(e.state)}).then(function(e){return e.json()}).then(function(t){t.message?z.a.notify(t.message,{duration:3e3}):e.props.history.push("/beacons/".concat(t.id))})},e.state={title:"",text:"",target:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement(v.a,{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(v.a.Label,null,"Title"),r.a.createElement(y.a,{value:this.state.title,onChange:function(t){e.onTextFormChange(t)},name:"title",type:"text",placeholder:"Enter a Title"}),r.a.createElement(v.a.Label,null,"Text"),r.a.createElement(y.a,{value:this.state.text,onChange:function(t){e.onTextFormChange(t)},name:"text",as:"textarea",type:"text",placeholder:"Talk about the reason you need help",rows:4}),r.a.createElement(v.a.Label,null,"Target"),r.a.createElement(y.a,{value:this.state.target,onChange:function(t){e.onTextFormChange(t)},name:"target",type:"number",placeholder:"How much money do you need?"}),r.a.createElement(E.a,{variant:"primary",type:"submit"},"Send it up"))))}}]),t}(n.Component),ee=Object(f.f)(Q),te=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(u.a)(this,Object(p.a)(t).call(this,e)),fetch("https://transfundr-backend.herokuapp.com/beacons/".concat(a.props.match.params.id)).then(function(e){return e.json()}).then(function(e){a.setState({beacon:e.beacon,total:e.total})}),a.state={beacon:{donations:[],title:null,text:null,target:null,user:{profile:{cash:null,venmo:null,paypal:null,zelle:null}}}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement(k,{profile:this.state.beacon.user.profile}),r.a.createElement(x,{user:this.state.beacon.user}),r.a.createElement("h6",null,"Sent up: ",r.a.createElement(F.a,{date:this.state.beacon.created_at})),r.a.createElement("h2",null,this.state.beacon.title),r.a.createElement("h5",{className:"text"},this.state.beacon.text),r.a.createElement(T,{user:this.state.beacon.user}),r.a.createElement("h4",null,"Raised: $",this.state.total),r.a.createElement("h4",null,"Target: $",this.state.beacon.target),r.a.createElement(S.a,{animated:!0,variant:"success",now:this.state.total/this.state.beacon.target*100}),r.a.createElement("br",null),r.a.createElement(C,{profile:this.state.beacon.user.profile}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(I.a,{className:"inline",children:r.a.createElement(P,null),url:"www.transfundr.com/beacons/".concat(this.props.match.params.id),quote:"Please consider donating",hashtag:"#transfundr"}),r.a.createElement(J.a,{className:"inline",children:r.a.createElement(L,null),url:"www.transfundr.com/beacons/".concat(this.props.match.params.id),title:"Please consider donating"})),localStorage.getItem("user")?r.a.createElement(E.a,{className:"donatebutton",href:"/beacons/".concat(this.props.match.params.id,"/newdonation")},"Donate"):null),r.a.createElement(G,{decodeJwt:this.props.decodeJwt,beacon:this.state.beacon,donations:this.state.beacon.donations}))}}]),t}(n.Component),ae=Object(f.f)(te),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).confirmDonation=function(){fetch("https://transfundr-backend.herokuapp.com/confirm",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify("".concat(a.props.match.params.id))}).then(function(e){return e.json()}).then(function(e){return a.setState({donation:e})})},fetch("https://transfundr-backend.herokuapp.com/donations/".concat(a.props.match.params.id)).then(function(e){return e.json()}).then(function(e){a.setState({donation:e})}),a.state={donation:{user:{profile:{profile_img:null}},beacon:{title:null,user:{profile:{profile_img:null}}},amount:null,points:null,confirmed:null}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement("h2",null,"Donation"),r.a.createElement("a",{href:"/beacons/".concat(this.state.donation.beacon.id)},r.a.createElement("h3",null,this.state.donation.beacon.title)),r.a.createElement("h5",null,"Sender"),r.a.createElement(k,{profile:this.state.donation.user.profile}),r.a.createElement(x,{user:this.state.donation.user}),r.a.createElement("h5",null,"Receiver"),r.a.createElement(k,{profile:this.state.donation.beacon.user.profile}),r.a.createElement(x,{user:this.state.donation.beacon.user}),r.a.createElement("h2",null,"$",this.state.donation.amount," - ",this.state.donation.points," Points"),r.a.createElement("h6",null,"Sent: ",r.a.createElement(F.a,{date:this.state.donation.created_at})),this.state.donation.confirmed?r.a.createElement(V,null):r.a.createElement(Y,null),this.props.decodeJwt(localStorage.getItem("jwt"))!==this.state.donation.beacon.user.id||this.state.donation.confirmed?null:r.a.createElement(E.a,{onClick:this.confirmDonation},"Confirm?")))}}]),t}(n.Component),re=Object(f.f)(ne),oe=a(110),le=function(e){function t(){var e;return Object(s.a)(this,t),e=Object(u.a)(this,Object(p.a)(t).call(this)),fetch("https://transfundr-backend.herokuapp.com/rankings").then(function(e){return e.json()}).then(function(t){return e.setState({payload:t})}),e.state={payload:{topTen:[],biggestToday:{amount:null,user:{profile:{profile_img:null}}},biggestWeek:{amount:null,user:{profile:{profile_img:null}}},biggestMonth:{amount:null,user:{profile:{profile_img:null}}},biggestYear:{amount:null,user:{profile:{profile_img:null}}}}},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{class:"standaloneform"},r.a.createElement("div",{id:"topten"},r.a.createElement("h2",null,"Top Ten Donators"),r.a.createElement("ol",null,this.state.payload.topTen.map(function(e){return r.a.createElement("li",null,e.points," points - ",r.a.createElement(k,{profile:e.user.profile}),r.a.createElement(x,{user:e.user}))}))),r.a.createElement("div",{id:"biggestdonations"},r.a.createElement("h2",null,"Biggest Donations"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/donations/".concat(this.state.payload.biggestToday.id)},"Today: $",this.state.payload.biggestToday.amount)," - ",r.a.createElement(k,{profile:this.state.payload.biggestToday.user.profile}),r.a.createElement(x,{user:this.state.payload.biggestToday.user})),r.a.createElement("li",null,r.a.createElement("a",{href:"/donations/".concat(this.state.payload.biggestWeek.id)},"This Week: $",this.state.payload.biggestWeek.amount)," - ",r.a.createElement(k,{profile:this.state.payload.biggestWeek.user.profile}),r.a.createElement(x,{user:this.state.payload.biggestWeek.user})),r.a.createElement("li",null,r.a.createElement("a",{href:"/donations/".concat(this.state.payload.biggestMonth.id)},"This Month: $",this.state.payload.biggestMonth.amount)," - ",r.a.createElement(k,{profile:this.state.payload.biggestMonth.user.profile}),r.a.createElement(x,{user:this.state.payload.biggestMonth.user})),r.a.createElement("li",null,r.a.createElement("a",{href:"/donations/".concat(this.state.payload.biggestYear.id)},"This Year: $",this.state.payload.biggestYear.amount)," - ",r.a.createElement(k,{profile:this.state.payload.biggestYear.user.profile}),r.a.createElement(x,{user:this.state.payload.biggestYear.user}))))))}}]),t}(n.Component),ie=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement("h1",null,"About"),r.a.createElement("h5",{className:"text"},"TransFundr was built by a ",r.a.createElement("a",{href:"http://www.lucysuddenly.com"},"white trans woman")," to facilitate and reward donations to struggling trans women, especially trans women of color.  "),r.a.createElement("h5",{className:"text"},"Trans women are at high risk of joblessness, homelessness, assault, and societal exclusion. The risks are especially compounded for trans women of color, with most violent assaults being directed at them. Point multipliers reflect these realities, encouraging donations to flow to trans women of color. Sort methods also prioritize trans women of color ahead of white trans women. "),r.a.createElement("h3",null,"How to use this website"),r.a.createElement("h5",{className:"text"},"Allies: Create an account on TransFundr. Donate directly through Venmo, Paypal, CashApp or Zelle, then add your donation on TransFundr. When your donation is confirmed by the receiver, you get points. Depending on who the receiver of your donation, you get a multiplier applied to the number of points you get: white trans women get no multiplier, trans women of color get X2"),r.a.createElement("h5",{className:"text"},"Donate when you can and share beacons as often as you\u2019re able. Promoting fundraisers of trans women is almost as good as donating. Call on your friends and family to use this site. Trans women are in need, and you can help."),r.a.createElement("h5",{className:"text"},"Trans women: create an account, then send up a fundraising beacon. When you get a donation, you'll get a notification -- double check that you've received actual funds via your Paypal, CashApp, Venmo, or Zelle, then confirm the donation. "),r.a.createElement("h5",{className:"text"},"This website serves as the opening in a conversation. I made design decisions based on my knowledge of hierarchy in our community, but these decisions are flexible: if you have ideas on how I can better structure the economy of points or anything else, email me at ",r.a.createElement("a",{href:"mailto:transfundr@gmail.com"},"transfundr@gmail.com")," -- if you can code, head to the ",r.a.createElement("a",{href:"https://github.com/LucySuddenly/transfundr-frontend"},"git repo")," and submit a pull request.")))}}]),t}(n.Component),ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement("h1",null,"404 Gender (and Page) Not Found")))}}]),t}(n.Component),se=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).onTextFormChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.submitForm=function(t){t.preventDefault(),fetch("https://transfundr-backend.herokuapp.com/profiles/".concat(JSON.parse(localStorage.getItem("user")).profile.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))},body:JSON.stringify(e.state)}).then(function(e){return e.json()}).then(function(t){e.props.history.push("users/".concat(JSON.parse(localStorage.getItem("user")).id))})},e.profileImageOnChange=function(t){e.setState({profile_image_file_name:t.target.files[0].name});var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(){e.setState({profile_image_file:a.result})}},e.coverImageOnChange=function(t){e.setState({cover_image_file_name:t.target.files[0].name});var a=new FileReader;a.readAsDataURL(t.target.files[0]),a.onload=function(){e.setState({cover_image_file:a.result})}},fetch("https://transfundr-backend.herokuapp.com/profiles/".concat(JSON.parse(localStorage.getItem("user")).profile.id),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(e){return e.json()}).then(function(t){return e.setState({bio:t.bio,cover_img:t.cover_img,profile_img:t.profile_img,venmo:t.venmo,cash:t.cash,paypal:t.paypal,zelle:t.zelle,id:t.id})}),e.state={bio:"",cover_img:"",profile_img:"",venmo:"",cash:"",paypal:"",zelle:"",id:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"standaloneform"},r.a.createElement("h2",null,"Edit Profile:"),r.a.createElement(v.a,{onSubmit:function(t){return e.submitForm(t)}},r.a.createElement(v.a.Label,null,"Bio"),r.a.createElement(y.a,{value:this.state.bio,onChange:function(t){e.onTextFormChange(t)},name:"bio",as:"textarea",type:"text",placeholder:"Fill out your bio",rows:4}),r.a.createElement(v.a.Label,null,"Profile Picture"),r.a.createElement("img",{src:this.state.profile_img,width:"100",alt:"profile"}),r.a.createElement(y.a,{onChange:function(t){return e.profileImageOnChange(t)},type:"file",name:"profile_image",id:"profile_image_upload",accept:"image/*"}),r.a.createElement(v.a.Label,null,"Cover Image"),r.a.createElement("img",{src:this.state.cover_img,width:"100",alt:"cover"}),r.a.createElement(y.a,{onChange:function(t){return e.coverImageOnChange(t)},type:"file",name:"cover_image",id:"cover_image_upload",accept:"image/*"}),localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).trans?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Label,null,"Venmo"),r.a.createElement(y.a,{value:this.state.venmo,onChange:function(t){e.onTextFormChange(t)},name:"venmo",type:"text",placeholder:"Enter your Venmo username"}),r.a.createElement(v.a.Label,null,"Cash App"),r.a.createElement(y.a,{value:this.state.cash,onChange:function(t){e.onTextFormChange(t)},name:"cash",type:"text",placeholder:"Enter your Cash App username"}),r.a.createElement(v.a.Label,null,"Paypal"),r.a.createElement(y.a,{value:this.state.paypal,onChange:function(t){e.onTextFormChange(t)},name:"paypal",type:"text",placeholder:"Enter your Paypal username"}),r.a.createElement(v.a.Label,null,"Zelle"),r.a.createElement(y.a,{value:this.state.zelle,onChange:function(t){e.onTextFormChange(t)},name:"zelle",type:"text",placeholder:"Enter your Zelle username"})):null,r.a.createElement(E.a,{variant:"primary",type:"submit"},"Edit Profile"))))}}]),t}(n.Component),me=Object(f.f)(se),ue=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).notificationsFetch=function(){localStorage.getItem("user")&&fetch("https://transfundr-backend.herokuapp.com/notifications",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(e){return e.json()}).then(function(t){return e.setState({notifications:t})})},e.logUserIn=function(t){localStorage.removeItem("jwt"),localStorage.removeItem("user"),localStorage.setItem("jwt",t.jwt),localStorage.setItem("user",JSON.stringify(t.user)),e.notificationsFetch(),e.forceUpdate()},e.onLoginFormChange=function(t){e.setState({loginForm:Object(c.a)({},e.state.loginForm,Object(i.a)({},t.target.name,t.target.value))})},e.submitLogin=function(t){t.preventDefault(),fetch("https://transfundr-backend.herokuapp.com/auth",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state.loginForm)}).then(function(e){return e.json()}).then(function(t){t.message?z.a.notify(t.message,{duration:3e3}):e.logUserIn(t)})},e.logout=function(){localStorage.removeItem("jwt"),localStorage.removeItem("user"),e.forceUpdate()},e.decodeJwt=function(e){return!!e&&JSON.parse(window.atob(e.split(".")[1])).user_id},e.notificationsFetch(),e.state={loginForm:{username:"",password:""},notifications:[]},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{collapseOnSelect:!0,expand:"md",sticky:"top",bg:"light"},r.a.createElement(b.a.Brand,{href:"/"},r.a.createElement("img",{alt:"logo",src:"../images/Logo2.png",width:"200"})),r.a.createElement(b.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(b.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto align-items-center"},r.a.createElement(E.a,{href:"/about"},"About")),localStorage.getItem("jwt")?r.a.createElement(r.a.Fragment,null,JSON.parse(localStorage.getItem("user")).profile?r.a.createElement(g.a,{className:"d-flex align-items-center"},r.a.createElement(b.a.Text,null,"Logged in as:"),r.a.createElement(k,{profile:JSON.parse(localStorage.getItem("user")).profile}),r.a.createElement(x,{user:JSON.parse(localStorage.getItem("user"))})):null,r.a.createElement("div",{className:"divider"}),JSON.parse(localStorage.getItem("user")).trans&&this.state.notifications[0]?r.a.createElement(g.a,{className:"d-flex align-items-center"},r.a.createElement(oe.a,{trigger:r.a.createElement(b.a.Text,{id:"notifications"},r.a.createElement("span",{role:"img","aria-label":"notifications"},"\u2757")),position:"bottom center",on:"click",closeOnDocumentClick:!0,mouseLeaveDelay:500,mouseEnterDelay:0,contentStyle:{padding:"0px",border:"none"},arrow:!1},r.a.createElement("div",{className:"menu"},this.state.notifications.map(function(e){return r.a.createElement("div",{className:"menu-item"},r.a.createElement("a",{href:"/donations/".concat(e.id)},"$",e.amount," from ",e.user.username))})))):null,r.a.createElement("div",{className:"divider"}),localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).trans?r.a.createElement(g.a,{className:"d-flex align-items-center"},r.a.createElement(E.a,{href:"/newbeacon"},"Send up a Beacon")):null,r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"divider"}),r.a.createElement(g.a,{className:"d-flex align-items-center"},r.a.createElement(E.a,{onClick:this.logout},"Logout"))):r.a.createElement(v.a,{inline:!0,onSubmit:function(t){return e.submitLogin(t)}},r.a.createElement(y.a,{name:"username",value:this.state.loginForm.username,onChange:function(t){return e.onLoginFormChange(t)},type:"text",placeholder:"Username",className:"mr-sm-2"}),r.a.createElement(y.a,{name:"password",value:this.state.loginForm.password,onChange:function(t){return e.onLoginFormChange(t)},type:"password",placeholder:"Password",className:"mr-sm-2"}),r.a.createElement(E.a,{type:"submit"},"Login"),r.a.createElement(b.a.Text,null,r.a.createElement("a",{href:"/signup"},"Or Sign Up"))))),r.a.createElement(d.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(D,e.props)}}),r.a.createElement(f.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(U,Object.assign({},e.props,{logUserIn:e.logUserIn}))}}),r.a.createElement(f.a,{exact:!0,path:"/users/:id",render:function(){return r.a.createElement(K,Object.assign({},e.props,{decodeJwt:e.decodeJwt}))}}),r.a.createElement(f.a,{exact:!0,path:"/beacons/:id",render:function(){return r.a.createElement(ae,Object.assign({},e.props,{decodeJwt:e.decodeJwt}))}}),r.a.createElement(f.a,{exact:!0,path:"/donations/:id",render:function(){return r.a.createElement(re,Object.assign({},e.props,{decodeJwt:e.decodeJwt}))}}),r.a.createElement(f.a,{exact:!0,path:"/beacons/:id/newdonation",render:function(){return r.a.createElement($,null)}}),r.a.createElement(f.a,{exact:!0,path:"/newbeacon",render:function(){return r.a.createElement(ee,null)}}),r.a.createElement(f.a,{exact:!0,path:"/rankings",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(f.a,{exact:!0,path:"/about",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(f.a,{exact:!0,path:"/editprofile",render:function(){return r.a.createElement(me,null)}}),r.a.createElement(f.a,{render:function(){return r.a.createElement(ce,null)}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.bd1ea679.chunk.js.map